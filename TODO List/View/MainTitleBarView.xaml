<!-- 타이틀바와 하단바(달력 조정)까지 생성 -->
<UserControl x:Class="TODO_List.View.MainTitleBarView"
                  xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                  xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                  xmlns:util="clr-namespace:TODO_List.Common.Util">

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- 커스텀 타이틀바 UI -->
        <!-- /Common/Util/WindowBehavior에 선언된 DependencyProperty(첨부 속성)를 Border에 적용함 -->
        <Border Grid.Row="0" Background="Gray" Padding="10"
                    util:WindowBehavior.MouseDownToDragMoveCommand="{Binding DragMoveWindowCommand}">
            <Grid>
                <!-- 타이틀 텍스트 -->
                <TextBlock HorizontalAlignment="Left" VerticalAlignment="Center"
                               Text="Todo List" FontSize="15" FontWeight="Bold"/>

                <!-- 불투명도 조절, 최소화, 최대화, 닫기 그룹 -->
                <StackPanel HorizontalAlignment="Right" Orientation="Horizontal">
                    <!-- 불투명도 조절 슬라이더 -->
                    <Slider x:Name="OpacitySlider" VerticalAlignment="Center" Width="100" Margin="0,0,20,0"
                              Minimum="30" Maximum="100"
                              Value="{Binding WindowOpacity, Mode=TwoWay}"/>
                    <!-- 최소화 버튼 -->
                    <Button Content="_" Margin="2.5" Width="20" Height="20"
                                Command="{Binding MinimizeWindowCommand}"
                                CommandParameter="{Binding RelativeSource={RelativeSource FindAncestor, AncestorType={x:Type Window}}}"/>
                    <!-- 최대화 버튼 -->
                    <Button Content="ㅁ" Margin="2.5" Width="20" Height="20"
                                Command="{Binding MaximizeWindowCommand}"
                                CommandParameter="{Binding RelativeSource={RelativeSource FindAncestor, AncestorType={x:Type Window}}}"/>
                    <!-- 닫기 버튼 -->
                    <Button Content="X" Margin="2.5" Width="20" Height="20"
                                Command="{Binding CloseWindowCommand}"
                                CommandParameter="{Binding RelativeSource={RelativeSource FindAncestor, AncestorType={x:Type Window}}}"/>
                </StackPanel>
            </Grid>
        </Border>

        <!-- 일정 추가, 년/월 표시, 넘기기 버튼 -->
        <Border Grid.Row="1" Padding="10">
            <Grid>
                <!-- 일정 추가 버튼 -->
                <StackPanel Orientation="Horizontal" HorizontalAlignment="Left" VerticalAlignment="Stretch">
                    <Button Content="+" FontSize="15" FontWeight="Bold"
                                MinWidth="30" Width="Auto" Height="Auto" Padding="5"
                                ContextMenuService.Placement="Bottom"
                                ContextMenuService.PlacementTarget="{Binding RelativeSource={RelativeSource Self}}"
                                Command="{Binding OpenAddTasksMenuCommand}"
                                CommandParameter="{Binding RelativeSource={RelativeSource Self}}">

                        <Button.ContextMenu>
                            <ContextMenu>
                                <MenuItem Header="일정 추가" Command="{Binding AddScheduleCommand}"/>
                                <MenuItem Header="규칙 추가" Command="{Binding AddRoutineCommand}"/>
                            </ContextMenu>
                        </Button.ContextMenu>
                    </Button>
                </StackPanel>

                <!-- 년/월 표시, 넘기기 버튼 -->
                <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" VerticalAlignment="Center">
                    <Button Content="&lt;" FontSize="15" Width="30"
                                Command="{Binding PreviousMonthCommand}"/>
                    <Button Content="{Binding CalendarVM.CurrentMonthText}" FontSize="15"
                                MinWidth="110" Width="Auto" Height="Auto" Margin="10,0,10,0" Padding="5"/>
                    <!-- Click="OnClick_Calneder" -->
                    <Button Content="&gt;" FontSize="15" Width="30"
                                Command="{Binding NextMonthCommand}"/>
                </StackPanel>
            </Grid>
        </Border>
    </Grid>
</UserControl>